<!doctype html>
<html lang="en">

	<head>
		<meta charset="UTF-8" />
		<link rel="icon" type="image/svg+xml" href="/elijahSamuelsIcon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Elijah Samuels</title>
	</head>

	<body>
		<div id="root"></div>
		<script type="module" src="/src/main.jsx"></script>

		<!-- A little help for the Netlify bots if you're not using a SSG -->
		<!-- <form name="contact" netlify netlify-honeypot="bot-field" hidden>
			<input type="text" name="name" />
			<input type="email" name="email" />
			<textarea name="message"></textarea>
		</form>

		<div id="root"></div>
		<script type="text/babel">

			ReactDOM.render(
				<form name="contact" method="post">
					<input type="hidden" name="form-name" value="contact" />
					<p>
						<label>Your Name: <input type="text" name="name" /></label>
					</p>
					<p>
						<label>Your Email: <input type="email" name="email" /></label>
					</p>
					<p>
						<label>Message: <textarea name="message"></textarea></label>
					</p>
					<p>
						<button type="submit">Send</button>
					</p>
				</form>,
				document.getElementById("root")
			);

		</script> -->

		<script type="text/babel">

			const encode = (data) => {
				return Object.keys(data)
					.map(key => encodeURIComponent(key) + "=" + encodeURIComponent(data[key]))
					.join("&");
			}

			class ContactForm extends React.Component {
				constructor(props) {
					super(props);
					this.state = { name: "", email: "", message: "" };
				}

				/* Hereâ€™s the juicy bit for posting the form submission */

				handleSubmit = e => {
					fetch("/", {
						method: "POST",
						headers: { "Content-Type": "application/x-www-form-urlencoded" },
						body: encode({ "form-name": "contact", ...this.state })
					})
						.then(() => alert("Success!"))
						.catch(error => alert(error));

					e.preventDefault();
				};

				handleChange = e => this.setState({ [e.target.name]: e.target.value });

				render() {
					const { name, email, message } = this.state;
					return (
						<form onSubmit={this.handleSubmit}>
							<p>
								<label>
									Your Name: <input type="text" name="name" value={name} onChange={this.handleChange} />
								</label>
							</p>
							<p>
								<label>
									Your Email: <input type="email" name="email" value={email} onChange={this.handleChange} />
								</label>
							</p>
							<p>
								<label>
									Message: <textarea name="message" value={message} onChange={this.handleChange} />
								</label>
							</p>
							<p>
								<button type="submit">Send</button>
							</p>
						</form>
					);
				}
			}

			ReactDOM.render(<ContactForm />, document.getElementById("root"));

		</script>

	</body>

</html>